# 한국전력의 전기요금 비교차트

## 기능적 목표

2022년 러시아 우크라이나 전쟁 및 이로 인한 물가 상승 등의 시대적인 상황을 기반으로 하여 장기적으로는 에너지 문제 등에 대한 상황적 인지를 위해 지역별, 산업별(가정용을 포함) 전력의 사용 분포와 이에 대한 요금체계를 비교/분석하고 문제를 해결하기 위한 정보의 제공을 목적으로 한다.

## 기술적 목표

단순한 API 제공에 있어 servlet web(Spring webmvc), reactive web(Spring webflux)를 통해 동일한 기능을 구성해보고 생산성 및 러닝커브 측면에서의 실질적인 전환비용을 테스트한다.


### 기능적인 한계

- 산업별 전기사용량 API는 2007년 1월부터 데이터를 제공하는 반면 가구별 전기사용량 API는 2013년 5월부터 데이터를 제공하기 때문에 가정용 데이터가 제공되는 2013년 5월부터의 데이터만을 대상으로 한다. 
- 가정용 전력요금에는 사용량 합계와 요금 평균만 존재하기 떄문에 각 가구별 누진율 등이 고려되지 못하는 한계가 존재한다.
- 기능을 개발하는 현재 (22년 10월) 기준으로 21년 7월까지의 데이터만을 제공하고 있으며 제공시점을 정확히 알 수 없어 이후로도 실시간적인 통계 제공은 불가능할 것으로 보인다.


## 참고자료

[KEPKO 산업별 전력 사용량 API](https://bigdata.kepco.co.kr/cmsmain.do?scode=S01&pcode=000493&pstate=indus)

[KEPKO 가구별 전력 사용량 API](https://bigdata.kepco.co.kr/cmsmain.do?scode=S01&pcode=000493&pstate=house)


## 결론

### 1차 결론 (2022-10-12)

- reactive web은 출시 5년이 지난 지금에도 아직 생태계가 많이 부족하다.
  - 특히 JPA 기반으로 돌아가는 생태계에 익숙한 기존의 Java 개발자들을 유인할 수 있을 것인가 하는 점에는 부정적이다.
  - 보통의 웹서비스라면.. 70~90%는 단순한 데이터를 API로 반환하는 기능이다. querydsl쪽을 통해서라도 좀 더 편의성 기능을 구현해 볼 여지는 있다.
- reactive web은 분명한 성능상의 이점을 보인다.
  - 다만 이 정도의 성능상의 강력함이 필요한 제품의 시장 비중은 크지 않을 듯. (즉, 리딩할 스타 개발자들이...)
  - 성능이 강력하다, 하지만 생태계는 부족하다. 라고 한다면 원점에서 다른 경쟁자들과 붙어봐야 한다. (2차 결론에는 Armeria를 포함할 예정)
  - 성능이 강력하다. 하지만 Project LOOM이 성공한다면 어떨까?

### 2차 결론 (2022-10-13)

- armeria는 매력적이었다. 하지만 근본적인 Java 생태계에서의 Reactive(특히 r2dbc)의 미진한 지원은 여기서도 문제가 된다.
  - 결국 이건 webflux냐 armeria냐 문제 이전에, Java쪽의 Reactive 생태계가 충분한지에 대한 문제로 귀결된다.
  - 문제는 이에 대해 Java는 Reactive 강화대신 Project LOOM을 통한 해결로 방향성을 잡고 있다는 부분이라..
- 결국 Reactive Web의 적용 여부는 (다른 여타 기술과 마찬가지로) 특정 기술의 문제보다 해당 제품에 얼마나 Reactive에 대한 니즈가 존재하는지, 이를 도입하기 위한 비용을 얼마만큼 감당할 수 있을 것인가가 주요 포인트가 된다.
